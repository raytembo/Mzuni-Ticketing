<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Match Updates</title>
</head>
<body>
    <h1>Update Matches</h1>
    <form id="updateNM">
        <h3>Next Match</h3>
        <h4>Left Team</h4>
        <select name="leftTeamName">
            <option value="Nyasa Big Bullets">Nyasa Big Bullets</option>
            <option value="Mighty Wanderers">Mighty Wanderers</option>
            <option value="Silver Strikers">Silver Strikers</option>
            <option value="Moyale Barracks FC">Moyale Barracks FC </option>
            <option value="Chitipa United">Chitipa United</option>
            <option value="Karonga United">Karonga United</option>
            <option value="Ekwendeni Hammers">Ekwendeni Hammers</option>
            <option value="Red Lions">Red Lions</option>
        </select>

        <h4>Right Team</h4>
        <select name="rightTeamName">
            <option value="Nyasa Big Bullets">Nyasa Big Bullets</option>
            <option value="Mighty Wanderers">Mighty Wanderers</option>
            <option value="Silver Strikers">Silver Strikers</option>
            <option value="Moyale Barracks FC ">Moyale Barracks FC </option>
            <option value="Chitipa United">Chitipa United</option>
            <option value="Karonga United">Karonga United</option>
            <option value="Ekwendeni Hammers">Ekwendeni Hammers</option>
            <option value="Red Lions">Red Lions</option>
        </select>

        <h4>Stadium</h4>
        <input type="text" placeholder="Enter the Stadium Name" name="stadium">
        <h4>Time</h4>
        <input type="text" placeholder="Enter Time e.g 2PM" name="time">
        <h4>League</h4>
        <input type="text" placeholder="Enter League Name" name="league">
        <h4>Date</h4>
        <input type="text" placeholder="Enter Date" name="date">
        <button>Update Next Match</button>
    </form>

    <form id="updateFirstUpcoming">
        <h3>First Upcoming Match</h3>
        <h4>Left Team</h4>
        <select name="leftTeamName">
            <option value="Nyasa Big Bullets">Nyasa Big Bullets</option>
            <option value="Mighty Wanderers">Mighty Wanderers</option>
            <option value="Silver Strikers">Silver Strikers</option>
            <option value="Moyale Barracks FC ">Moyale Barracks FC </option>
            <option value="Chitipa United">Chitipa United</option>
            <option value="Karonga United">Karonga United</option>
            <option value="Ekwendeni Hammers">Ekwendeni Hammers</option>
            <option value="Red Lions">Red Lions</option>
        </select>

        <h4>Right Team</h4>
        <select name="rightTeamName">
            <option value="Nyasa Big Bullets">Nyasa Big Bullets</option>
            <option value="Mighty Wanderers">Mighty Wanderers</option>
            <option value="Silver Strikers">Silver Strikers</option>
            <option value="Moyale Barracks FC ">Moyale Barracks FC </option>
            <option value="Chitipa United">Chitipa United</option>
            <option value="Karonga United">Karonga United</option>
            <option value="Ekwendeni Hammers">Ekwendeni Hammers</option>
            <option value="Red Lions">Red Lions</option>
        </select>

        <h4>Stadium</h4>
        <input type="text" placeholder="Enter the Stadium Name" name="stadium">
        <h4>Time</h4>
        <input type="text" placeholder="Enter Time e.g 2PM" name="time">
        <h4>League</h4>
        <input type="text" placeholder="Enter League Name" name="league">
        <h4>Date</h4>
        <input type="text" placeholder="Enter Date" name="date">
        <button>Update First Upcoming Match</button>
    </form>

    <form id="updateSecondUpcoming">
        <h3>Second Upcoming Match</h3>
        <h4>Left Team</h4>
        <select name="leftTeamName">
            <option value="Nyasa Big Bullets">Nyasa Big Bullets</option>
            <option value="Mighty Wanderers">Mighty Wanderers</option>
            <option value="Silver Strikers">Silver Strikers</option>
            <option value="Moyale Barracks FC ">Moyale Barracks FC </option>
            <option value="Chitipa United">Chitipa United</option>
            <option value="Karonga United">Karonga United</option>
            <option value="Ekwendeni Hammers">Ekwendeni Hammers</option>
            <option value="Red Lions">Red Lions</option>
        </select>

        <h4>Right Team</h4>
        <select name="rightTeamName">
            <option value="Nyasa Big Bullets">Nyasa Big Bullets</option>
            <option value="Mighty Wanderers">Mighty Wanderers</option>
            <option value="Silver Strikers">Silver Strikers</option>
            <option value="Moyale Barracks FC ">Moyale Barracks FC </option>
            <option value="Chitipa United">Chitipa United</option>
            <option value="Karonga United">Karonga United</option>
            <option value="Ekwendeni Hammers">Ekwendeni Hammers</option>
            <option value="Red Lions">Red Lions</option>
        </select>

        <h4>Stadium</h4>
        <input type="text" placeholder="Enter the Stadium Name" name="stadium">
        <h4>Time</h4>
        <input type="text" placeholder="Enter Time e.g 2PM" name="time">
        <h4>League</h4>
        <input type="text" placeholder="Enter League Name" name="league">
        <h4>Date</h4>
        <input type="text" placeholder="Enter Date" name="date">
        <button>Update Second Upcoming Match</button>
    </form>

    <form id="updateThirdUpcoming">
        <h3>Third Upcoming Match</h3>
        <h4>Left Team</h4>
        <select name="leftTeamName">
            <option value="Nyasa Big Bullets">Nyasa Big Bullets</option>
            <option value="Mighty Wanderers">Mighty Wanderers</option>
            <option value="Silver Strikers">Silver Strikers</option>
            <option value="Moyale Barracks FC ">Moyale Barracks FC </option>
            <option value="Chitipa United">Chitipa United</option>
            <option value="Karonga United">Karonga United</option>
            <option value="Ekwendeni Hammers">Ekwendeni Hammers</option>
            <option value="Red Lions">Red Lions</option>
        </select>

        <h4>Right Team</h4>
        <select name="rightTeamName">
            <option value="Nyasa Big Bullets">Nyasa Big Bullets</option>
            <option value="Mighty Wanderers">Mighty Wanderers</option>
            <option value="Silver Strikers">Silver Strikers</option>
            <option value="Moyale Barracks FC ">Moyale Barracks FC </option>
            <option value="Chitipa United">Chitipa United</option>
            <option value="Karonga United">Karonga United</option>
            <option value="Ekwendeni Hammers">Ekwendeni Hammers</option>
            <option value="Red Lions">Red Lions</option>
        </select>

        <h4>Stadium</h4>
        <input type="text" placeholder="Enter the Stadium Name" name="stadium">
        <h4>Time</h4>
        <input type="text" placeholder="Enter Time e.g 2PM" name="time">
        <h4>League</h4>
        <input type="text" placeholder="Enter League Name" name="league">
        <h4>Date</h4>
        <input type="text" placeholder="Enter Date" name="date">
        <button>Update Third Upcoming Match</button>
    </form>

    <form id="updateLastUpcoming">
        <h3>Last Upcoming Match</h3>
        <h4>Left Team</h4>
        <select name="leftTeamName">
            <option value="Nyasa Big Bullets">Nyasa Big Bullets</option>
            <option value="Mighty Wanderers">Mighty Wanderers</option>
            <option value="Silver Strikers">Silver Strikers</option>
            <option value="Moyale Barracks FC ">Moyale Barracks FC </option>
            <option value="Chitipa United">Chitipa United</option>
            <option value="Karonga United">Karonga United</option>
            <option value="Ekwendeni Hammers">Ekwendeni Hammers</option>
            <option value="Red Lions">Red Lions</option>
        </select>

        <h4>Right Team</h4>
        <select name="rightTeamName">
            <option value="Nyasa Big Bullets">Nyasa Big Bullets</option>
            <option value="Mighty Wanderers">Mighty Wanderers</option>
            <option value="Silver Strikers">Silver Strikers</option>
            <option value="Moyale Barracks FC ">Moyale Barracks FC </option>
            <option value="Chitipa United">Chitipa United</option>
            <option value="Karonga United">Karonga United</option>
            <option value="Ekwendeni Hammers">Ekwendeni Hammers</option>
            <option value="Red Lions">Red Lions</option>
        </select>

        <h4>Stadium</h4>
        <input type="text" placeholder="Enter the Stadium Name" name="stadium">
        <h4>Time</h4>
        <input type="text" placeholder="Enter Time e.g 2PM" name="time">
        <h4>League</h4>
        <input type="text" placeholder="Enter League Name" name="league">
        <h4>Date</h4>
        <input type="text" placeholder="Enter Date" name="date">
        <button>Update Last Upcoming Match</button>
    </form>

    <dialog id="myModal">
      <h2>Update Sucessfull</h2>
      <button id="close">Close</button>
   </dialog>


    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
        import { doc,getDocs,getDoc,getFirestore,collection,onSnapshot,serverTimestamp,addDoc,updateDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
                

        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        // This is the firebase project ID.
          const firebaseConfig = {
            apiKey: "AIzaSyBh6G23R0jLlMgHzBnwoj6EmFXP1wCgQbI",
            authDomain: "tickets-6848f.firebaseapp.com",
            projectId: "tickets-6848f",
            storageBucket: "tickets-6848f.appspot.com",
            messagingSenderId: "56292073441",
            appId: "1:56292073441:web:a429c5383c3ec09fcebca0",
            measurementId: "G-77DG9Q8DVL"
                                            };

            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            const db = getFirestore(app);

            function openModal() {
              var dialog = document.getElementById("myModal");
                  dialog.showModal(); // Open as a modal dialog
                        }
               document.getElementById("close").addEventListener("click", function() {
               document.getElementById("myModal").close();
              });
            
            //These varibles store data from HTML tag with the given IDs.
            const nm = document.getElementById("updateNM");
            const firstUpcoming = document.getElementById("updateFirstUpcoming");
            const secondUpcoming = document.getElementById("updateSecondUpcoming");
            const thirdUpcoming = document.getElementById("updateThirdUpcoming");
            const lastUpcoming = document.getElementById("updateLastUpcoming");

            //This event Listener is triggered by a submit.
            nm.addEventListener("submit",(e)=>{
                 e.preventDefault()
             // This variable get the values from user input.
                 var leftTeam = nm.leftTeamName.value;
                 var rightTeam = nm.rightTeamName.value;
                 var League = nm.league.value;
                 var Stadium = nm.stadium.value;
                 var Time = nm.time.value;
                 var Date = nm.date.value;
              // this variable stores a specific document (Record) reference with an ID of nextMatchID. 
                 const nextMatchRef = doc(db,"Next Match","nextMatchID");
               // This function updates the database.
                  updateDoc(nextMatchRef,
                    {
                      LeftTeamName:leftTeam,
                      RightTeamName:rightTeam,
                      League:League,
                      Stadium:Stadium,
                      Time:Time,
                      Date:Date,
                    }
                                            
                     ).then(()=>{
                      openModal();
                     
                    }).catch((error)=>{
                      console.log(error);
                    });
                    });
              // The same logic was used like the event listener above.
              // This also applies to the event listeners after this
                firstUpcoming.addEventListener("submit",(e)=>{
                 e.preventDefault()

                 var leftTeam = nm.leftTeamName.value;
                 var rightTeam = nm.rightTeamName.value;
                 var League = nm.league.value;
                 var Stadium = nm.stadium.value;
                 var Time = nm.time.value;
                 var Date = nm.date.value;

                 const firstUpcomingMatchRef = doc(db,"Upcoming Matches","Match 1");

                  updateDoc(firstUpcomingMatchRef,
                    {
                      LeftTeamName:leftTeam,
                      RightTeamName:rightTeam,
                      League:League,
                      Stadium:Stadium,
                      Time:Time,
                      Date:Date,
                    }
                                            
                     ).then(()=>{
                      openModal();
                    }).catch((error)=>{
                      console.log(error);
                    });
                    });
                    
                    secondUpcoming.addEventListener("submit",(e)=>{
                 e.preventDefault()

                 var leftTeam = nm.leftTeamName.value;
                 var rightTeam = nm.rightTeamName.value;
                 var League = nm.league.value;
                 var Stadium = nm.stadium.value;
                 var Time = nm.time.value;
                 var Date = nm.date.value;

                 const secondUpcomingMatchRef = doc(db,"Upcoming Matches","Match 2");

                  updateDoc(secondUpcomingMatchRef,
                    {
                      LeftTeamName:leftTeam,
                      RightTeamName:rightTeam,
                      League:League,
                      Stadium:Stadium,
                      Time:Time,
                      Date:Date,
                    }
                                            
                     ).then(()=>{
                      openModal();
                    }).catch((error)=>{
                      console.log(error);
                    });
                    });

                    nm.addEventListener("submit",(e)=>{
                 e.preventDefault()

                 var leftTeam = nm.leftTeamName.value;
                 var rightTeam = nm.rightTeamName.value;
                 var League = nm.league.value;
                 var Stadium = nm.stadium.value;
                 var Time = nm.time.value;
                 var Date = nm.date.value;

                 const thirdUpcomingMatchRef = doc(db,"Upcoming Matches","Match 3");

                  updateDoc(thirdUpcomingMatchRef,
                    {
                      LeftTeamName:leftTeam,
                      RightTeamName:rightTeam,
                      League:League,
                      Stadium:Stadium,
                      Time:Time,
                      Date:Date,
                    }
                                            
                     ).then(()=>{
                      openModal();
                    }).catch((error)=>{
                      console.log(error);
                    });
                    });

                 lastUpcoming.addEventListener("submit",(e)=>{
                 e.preventDefault()

                 var leftTeam = nm.leftTeamName.value;
                 var rightTeam = nm.rightTeamName.value;
                 var League = nm.league.value;
                 var Stadium = nm.stadium.value;
                 var Time = nm.time.value;
                 var Date = nm.date.value;

                 const lastUpcomingMatchRef = doc(db,"Upcoming Matches","Match 4");

                  updateDoc(lastUpcomingMatchRef,
                    {
                      LeftTeamName:leftTeam,
                      RightTeamName:rightTeam,
                      League:League,
                      Stadium:Stadium,
                      Time:Time,
                      Date:Date,
                    }
                                            
                     ).then(()=>{
                      openModal();
                    }).catch((error)=>{
                      console.log(error);
                    });
                    });
  </script>
    
    
    
    
    
</body>
</html>